[
{
	"uri": "/7-specific-issues/1-secure-boot/",
	"title": "Agent Not Running",
	"tags": [],
	"description": "",
	"content": "Contents:\n Trường hợp gặp phải Kiểm tra hoạt động Hướng xử lý  Trường hợp gặp phải   Hệ điều hành: Windows\n  Lỗi hiển thị: Dừng tại bước \u0026ldquo;Establish communication between the CloudEndure Agent and the Replication Server.\u0026quot;   Một số trường hợp khác: Ở trạng thái thiết lập quá trình replication. Tình trạng bị dừng tại trạng thái màu đỏ \u0026ldquo;Establish communication between the…\u0026quot; ở giao diện console. \r  Ở trạng thái thiết lập quá trình replication. Tình trạng bị dừng tại trạng thái màu đỏ \u0026ldquo;Communication with Source machine lost\u0026rdquo; ở giao diện console. \rChung quy lại vấn đề chúng ta có thể gặp phải đó là tình trạng CloudEndure Agent không khởi chạy lên được khiến cho quá trình Staging không thể tiến hành.\nKiểm tra hoạt động Kiểm tra hoạt động Service:\nSau khi chạy trình cài đặt CloudEndure lên máy, để xác định lỗi xảy ra, chúng ta có thể kiểm tra như sau:\n Mở cửa sổ Task Manager trên máy tính chạy hệ điều hành Windows. Chọn tab Services để hiển thị danh sách các Service. Kiểm tra trạng thái dịch vụ CloudEndure Agent.  Trạng thái của dịch vụ có thể đang là Stopped. Cột PID không có thông tin.   Hãy thử chuột phải vào dịch vụ, chọn Start để khởi chạy. Trường hợp sau khi khởi chạy, dịch vụ chuyển trạng thái sang Running sau đó chuyển lại thành Stopped. Rất có thể chúng ta đã gặp vấn đề với dịch vụ trên Windows.  Kiểm tra nhật kí hoạt động của CloudEndure Agent:\nĐể kiểm tra nhật ký hoạt động của Agent, ta tìm đến tập tin C:\\Program Files (x86)\\CloudEndure\\agent.log.0 Hãy kiểm tra nội dung nhật ký so với nội dung bên dưới.\n{\u0026#34;message\u0026#34;:\u0026#34;Boot device \u0026#39;c:0\u0026#39; is missing from volume map\u0026#34;,\u0026#34;log\u0026#34;:{\u0026#34;type\u0026#34;:\u0026#34;Remote\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Agent\u0026#34;,\u0026#34;level\u0026#34;:\u0026#34;ERROR\u0026#34;,\u0026#34;level_number\u0026#34;:40},\u0026#34;source_code\u0026#34;:{\u0026#34;function\u0026#34;:\u0026#34;removeDuplicatedVolumes\u0026#34;,\u0026#34;file\u0026#34;:\u0026#34;com.cloudendure.agent.platform.HardwareInfoGetterWindows\u0026#34;},\u0026#34;runtime_thread\u0026#34;:21,\u0026#34;origin\u0026#34;:{\u0026#34;hostname\u0026#34;:\u0026#34;host\u0026#34;},\u0026#34;@timestamp\u0026#34;:\u0026#34;2020-04-21T05:59:32.258Z\u0026#34;}\u0026gt;\u0026gt;\u0026gt;\r{\u0026#34;message\u0026#34;:\u0026#34;Creating SourceNetworkCfg folder\u0026#34;,\u0026#34;log\u0026#34;:{\u0026#34;type\u0026#34;:\u0026#34;Remote\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Agent\u0026#34;,\u0026#34;level\u0026#34;:\u0026#34;ERROR\u0026#34;,\u0026#34;level_number\u0026#34;:40},\u0026#34;source_code\u0026#34;:{\u0026#34;function\u0026#34;:\u0026#34;storeCurrentTcpipSettings\u0026#34;,\u0026#34;file\u0026#34;:\u0026#34;com.cloudendure.agent.platform.HardwareInfoGetterWindows\u0026#34;},\u0026#34;runtime_thread\u0026#34;:21,\u0026#34;origin\u0026#34;:{\u0026#34;hostname\u0026#34;:\u0026#34;host\u0026#34;},\u0026#34;@timestamp\u0026#34;:\u0026#34;2020-04-21T05:59:32.291Z\u0026#34;}\u0026gt;\u0026gt;\u0026gt;\r{\u0026#34;message\u0026#34;:\u0026#34;Load module failed\u0026#34;,\u0026#34;log\u0026#34;:{\u0026#34;type\u0026#34;:\u0026#34;Remote\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Agent\u0026#34;,\u0026#34;level\u0026#34;:\u0026#34;ERROR\u0026#34;,\u0026#34;level_number\u0026#34;:40},\u0026#34;source_code\u0026#34;:{\u0026#34;function\u0026#34;:\u0026#34;load\u0026#34;,\u0026#34;file\u0026#34;:\u0026#34;com.cloudendure.agent.TraceDriverAdapter\u0026#34;},\u0026#34;runtime_thread\u0026#34;:17,\u0026#34;origin\u0026#34;:{\u0026#34;hostname\u0026#34;:\u0026#34;host\u0026#34;},\u0026#34;@timestamp\u0026#34;:\u0026#34;2020-04-21T06:00:22.243Z\u0026#34;}\u0026gt;\u0026gt;\u0026gt;\r{\u0026#34;message\u0026#34;:\u0026#34;Changing volumes {0} failed\u0026#34;,\u0026#34;log\u0026#34;:{\u0026#34;type\u0026#34;:\u0026#34;Remote\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Agent\u0026#34;,\u0026#34;level\u0026#34;:\u0026#34;WARNING\u0026#34;,\u0026#34;level_number\u0026#34;:30},\u0026#34;source_code\u0026#34;:{\u0026#34;function\u0026#34;:\u0026#34;changeVolumes\u0026#34;,\u0026#34;file\u0026#34;:\u0026#34;com.cloudendure.agent.VolumesChanger\u0026#34;},\u0026#34;runtime_thread\u0026#34;:17,\u0026#34;args\u0026#34;:[\u0026#34;[name: \\\\\\\\?\\\\PhysicalDrive0, size: 192199786496]\u0026#34;],\u0026#34;origin\u0026#34;:{\u0026#34;hostname\u0026#34;:\u0026#34;host\u0026#34;},\u0026#34;@timestamp\u0026#34;:\u0026#34;2020-04-21T06:00:22.244Z\u0026#34;}\u0026gt;\u0026gt;\u0026gt;\r{\u0026#34;message\u0026#34;:\u0026#34;Error changing volumes\u0026#34;,\u0026#34;log\u0026#34;:{\u0026#34;type\u0026#34;:\u0026#34;Remote\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Agent\u0026#34;,\u0026#34;level\u0026#34;:\u0026#34;ERROR\u0026#34;,\u0026#34;level_number\u0026#34;:40},\u0026#34;source_code\u0026#34;:{\u0026#34;line\u0026#34;:69,\u0026#34;function\u0026#34;:\u0026#34;getChannel\u0026#34;,\u0026#34;file\u0026#34;:\u0026#34;com.cloudendure.agent.ClientCommunicator\u0026#34;},\u0026#34;runtime_thread\u0026#34;:17,\u0026#34;exception\u0026#34;:{\u0026#34;message\u0026#34;:\u0026#34;java.io.IOException: loadDriver failed with error code 577, stderr: \u0026#34;System error 577 has occurred.\\n\\nWindows cannot verify the digital signature for this file. A recent hardware or software change might have installed a file that is signed incorrectly or damaged, or that might be malicious software from an unknown source.\\n\\n\u0026#34;, stdout: \u0026#34;\\nC:\\\\Program Files (x86)\\\\CloudEndure\u0026gt;echo off \\n[SC] StartService FAILED 577:\\n\\nWindows cannot verify the digital signature for this file. A recent hardware or software change might have installed a file that is signed incorrectly or damaged, or that might be malicious software from an unknown source.\\n\\n\u0026#34;\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;com.cloudendure.agent.VolumesChanger$VolumeChangeException\u0026#34;,\u0026#34;trace\u0026#34;:\u0026#34;com.cloudendure.agent.VolumesChanger$VolumeChangeException: java.io.IOException: loadDriver failed with error code 577, stderr: \u0026#34;System error 577 has occurred.\\n\\nWindows cannot verify the digital signature for this file. A recent hardware or software change might have installed a file that is signed incorrectly or damaged, or that might be malicious software from an unknown source.\\n\\n\u0026#34;, stdout: \u0026#34;\\nC:\\\\Program Files (x86)\\\\CloudEndure\u0026gt;echo off \\n[SC] StartService FAILED 577:\\n\\nWindows cannot verify the digital signature for this file. A recent hardware or software change might have installed a file that is signed incorrectly or damaged, or that might be malicious software from an unknown source.\\n\\n\u0026#34;\\r\\n\\tat com.cloudendure.agent.VolumesChanger.changeVolumes(VolumesChanger.java:69)\\r\\n\\tat com.cloudendure.agent.ClientCommunicator.getChannel(ClientCommunicator.java:229)\\r\\n\\tat com.cloudendure.agent.ClientCommunicator.receive(ClientCommunicator.java:334)\\r\\n\\tat com.cloudendure.agent.ClientMessageHandler.run(ClientMessageHandler.java:66)\\r\\nCaused by: java.io.IOException: loadDriver failed with error code 577, stderr: \u0026#34;System error 577 has occurred.\\n\\nWindows cannot verify the digital signature for this file. A recent hardware or software change might have installed a file that is signed incorrectly or damaged, or that might be malicious software from an unknown source.\\n\\n\u0026#34;, stdout: \u0026#34;\\nC:\\\\Program Files (x86)\\\\CloudEndure\u0026gt;echo off \\n[SC] StartService FAILED 577:\\n\\nWindows cannot verify the digital signature for this file. A recent hardware or software change might have installed a file that is signed incorrectly or damaged, or that might be malicious software from an unknown source.\\n\\n\u0026#34;\\r\\n\\tat com.cloudendure.common.ProcessUtils.runCommand(ProcessUtils.java:121)\\r\\n\\tat com.cloudendure.common.ProcessUtils.runShellCommand(ProcessUtils.java:84)\\r\\n\\tat com.cloudendure.agent.TraceDriverAdapter.load(TraceDriverAdapter.java:245)\\r\\n\\tat com.cloudendure.agent.AgentManager.start(AgentManager.java:962)\\r\\n\\tat com.cloudendure.agent.VolumesChanger.changeVolumes(VolumesChanger.java:63)\\r\\n\\t... 3 more\\r\\n\u0026#34;},\u0026#34;origin\u0026#34;:{\u0026#34;hostname\u0026#34;:\u0026#34;host\u0026#34;},\u0026#34;@timestamp\u0026#34;:\u0026#34;2020-04-21T06:00:22.245Z\u0026#34;}\u0026gt;\u0026gt;\u0026gt;\rHướng xử lý Trong trường hợp này, rất có thể CloudEndure Agent đã được cài đặt không thể hoạt động được khi Windows đang được khởi động ở chế độ Secure Boot.\nSử dụng PowerShell để kiểm tra Secure Boot của Windows:\nPS C:\\WINDOWS\\system32\u0026gt; Confirm-SecureBootUEFI\rTrue\rTắt Secure Boot: Trường hợp sử dụng Windows cài đặt trên máy vật lý: (Chi thiết hơn tại Microsoft)\n Chọn Start, sau đó chọn Settings Chọn Update and Security Chọn Recovery Chọn vào Restart now ở trong Advanced startup Chọn Troubleshoot Chọn Advanced options Chọn Startup Settings Chọn vào Restart Nhấn phím số 7 trong Startup Settings để chọn Disable driver signature enforcement Khởi động lại máy.  Trường hợp sử dụng VMWare / ESXi, chúng ta sẽ phải tắt trong VM Configuration. Sau dó hãy cài lại CloudEndure Agent.\n"
},
{
	"uri": "/",
	"title": "Migration ShareNote with CloudEndure",
	"tags": [],
	"description": "",
	"content": "Migrate ShareNote with CloudEndure This lab will guide you how to use CloudEndure to migrate an EC2 instance running your ShareNote application (include or not include MySQL) to another EC2 instance.\nWe will reuse the EC2 instance that we deploy the ShareNote application in the previous lab Deploy ShareNote on Windows/Ubuntu Virtual Server as the source. The Source Machine can be a Linux machine or Windows machine.\nContents We devided this lab into sections below:\n AWS Credential for CloudEndure Configure CloudEndure Install CloudEndure Agents Configure Blueprint Start Cutover Configure Security Group  "
},
{
	"uri": "/1-credentials/",
	"title": "Tạo AWS Credential",
	"tags": [],
	"description": "",
	"content": "Nội dung\n Tạo IAM Policy cho CloudEndure Tạo IAM User và Credential cho CloudEndure  Tạo IAM Policy cho CloudEndure Bước 1: Từ AWS Management Console, truy cập dịch vụ IAM thông qua thanh điều hướng Services.\nBước 2: Ở menu bên trái của IAM Console, chọn Policies.\nBước 3: Ở trang Polices, chọn Create Policy.\nBước 4: Ở trang tạo Policy, chọn tab JSON.\nBước 5: Sao chép đoạn JSON từ trang sau CloudEndure IAM Policy\n{\r\u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,\r\u0026#34;Statement\u0026#34;: [\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor0\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;ec2:CreateTags\u0026#34;,\r\u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:ec2:*:*:*/*\u0026#34;,\r\u0026#34;Condition\u0026#34;: {\r\u0026#34;StringEquals\u0026#34;: {\r\u0026#34;ec2:CreateAction\u0026#34;: \u0026#34;RunInstances\u0026#34;\r}\r}\r},\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor1\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;ec2:CreateTags\u0026#34;,\r\u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:ec2:*:*:*/*\u0026#34;,\r\u0026#34;Condition\u0026#34;: {\r\u0026#34;StringEquals\u0026#34;: {\r\u0026#34;ec2:CreateAction\u0026#34;: \u0026#34;CreateVolume\u0026#34;\r}\r}\r},\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor2\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;ec2:RevokeSecurityGroupIngress\u0026#34;,\r\u0026#34;ec2:DetachVolume\u0026#34;,\r\u0026#34;ec2:AttachVolume\u0026#34;,\r\u0026#34;ec2:DeleteVolume\u0026#34;,\r\u0026#34;ec2:TerminateInstances\u0026#34;,\r\u0026#34;ec2:StartInstances\u0026#34;,\r\u0026#34;ec2:RevokeSecurityGroupEgress\u0026#34;,\r\u0026#34;ec2:StopInstances\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: [\r\u0026#34;arn:aws:ec2:*:*:dhcp-options/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:instance/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:volume/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:security-group/*\u0026#34;\r],\r\u0026#34;Condition\u0026#34;: {\r\u0026#34;StringLike\u0026#34;: {\r\u0026#34;ec2:ResourceTag/Name\u0026#34;: \u0026#34;CloudEndure*\u0026#34;\r}\r}\r},\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor3\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;ec2:RevokeSecurityGroupIngress\u0026#34;,\r\u0026#34;ec2:DetachVolume\u0026#34;,\r\u0026#34;ec2:AttachVolume\u0026#34;,\r\u0026#34;ec2:DeleteVolume\u0026#34;,\r\u0026#34;ec2:TerminateInstances\u0026#34;,\r\u0026#34;ec2:StartInstances\u0026#34;,\r\u0026#34;ec2:RevokeSecurityGroupEgress\u0026#34;,\r\u0026#34;ec2:StopInstances\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: [\r\u0026#34;arn:aws:ec2:*:*:dhcp-options/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:instance/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:volume/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:security-group/*\u0026#34;\r],\r\u0026#34;Condition\u0026#34;: {\r\u0026#34;StringLike\u0026#34;: {\r\u0026#34;ec2:ResourceTag/CloudEndure creation time\u0026#34;: \u0026#34;*\u0026#34;\r}\r}\r},\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor4\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;ec2:DisassociateAddress\u0026#34;,\r\u0026#34;ec2:CreateDhcpOptions\u0026#34;,\r\u0026#34;ec2:AuthorizeSecurityGroupIngress\u0026#34;,\r\u0026#34;ec2:DeregisterImage\u0026#34;,\r\u0026#34;ec2:DeleteSubnet\u0026#34;,\r\u0026#34;ec2:DeleteSnapshot\u0026#34;,\r\u0026#34;ec2:ModifySnapshotAttribute\u0026#34;,\r\u0026#34;ec2:ModifyVolumeAttribute\u0026#34;,\r\u0026#34;ec2:CreateVpc\u0026#34;,\r\u0026#34;ec2:AttachInternetGateway\u0026#34;,\r\u0026#34;ec2:GetConsoleScreenshot\u0026#34;,\r\u0026#34;ec2:GetConsoleOutput\u0026#34;,\r\u0026#34;elasticloadbalancing:DescribeLoadBalancer*\u0026#34;,\r\u0026#34;ec2:CreateRoute\u0026#34;,\r\u0026#34;ec2:CreateInternetGateway\u0026#34;,\r\u0026#34;ec2:CreateSecurityGroup\u0026#34;,\r\u0026#34;ec2:CreateSnapshot\u0026#34;,\r\u0026#34;ec2:ModifyVpcAttribute\u0026#34;,\r\u0026#34;ec2:ModifyInstanceAttribute\u0026#34;,\r\u0026#34;ec2:ReleaseAddress\u0026#34;,\r\u0026#34;ec2:AuthorizeSecurityGroupEgress\u0026#34;,\r\u0026#34;ec2:AssociateDhcpOptions\u0026#34;,\r\u0026#34;ec2:ImportKeyPair\u0026#34;,\r\u0026#34;ec2:CreateTags\u0026#34;,\r\u0026#34;ec2:RegisterImage\u0026#34;,\r\u0026#34;ec2:ModifyNetworkInterfaceAttribute\u0026#34;,\r\u0026#34;ec2:AssociateRouteTable\u0026#34;,\r\u0026#34;ec2:CreateRouteTable\u0026#34;,\r\u0026#34;ec2:DetachInternetGateway\u0026#34;,\r\u0026#34;iam:ListInstanceProfiles\u0026#34;,\r\u0026#34;ec2:AllocateAddress\u0026#34;,\r\u0026#34;ec2:ReplaceNetworkAclAssociation\u0026#34;,\r\u0026#34;ec2:CreateVolume\u0026#34;,\r\u0026#34;kms:ListKeys\u0026#34;,\r\u0026#34;ec2:Describe*\u0026#34;,\r\u0026#34;ec2:DeleteVpc\u0026#34;,\r\u0026#34;iam:GetUser\u0026#34;,\r\u0026#34;ec2:CreateSubnet\u0026#34;,\r\u0026#34;ec2:AssociateAddress\u0026#34;,\r\u0026#34;ec2:DeleteKeyPair\u0026#34;,\r\u0026#34;ec2:CreateNetworkAclEntry\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34;\r},\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;MigrationHubConfig\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;mgh:GetHomeRegion\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34;\r},\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor5\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;ec2:RevokeSecurityGroupIngress\u0026#34;,\r\u0026#34;mgh:CreateProgressUpdateStream\u0026#34;,\r\u0026#34;kms:Decrypt\u0026#34;,\r\u0026#34;kms:Encrypt\u0026#34;,\r\u0026#34;ec2:RevokeSecurityGroupEgress\u0026#34;,\r\u0026#34;ec2:DeleteDhcpOptions\u0026#34;,\r\u0026#34;ec2:RunInstances\u0026#34;,\r\u0026#34;kms:DescribeKey\u0026#34;,\r\u0026#34;kms:CreateGrant\u0026#34;,\r\u0026#34;ec2:DeleteNetworkAclEntry\u0026#34;,\r\u0026#34;kms:ReEncrypt*\u0026#34;,\r\u0026#34;kms:GenerateDataKey*\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: [\r\u0026#34;arn:aws:mgh:*:*:progressUpdateStream/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:subnet/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:key-pair/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:dhcp-options/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:instance/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:volume/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:security-group/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:network-acl/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:placement-group/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:vpc/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:network-interface/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*::image/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:snapshot/*\u0026#34;,\r\u0026#34;arn:aws:kms:*:*:key/*\u0026#34;\r]\r},\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor6\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;ec2:CreateTags\u0026#34;,\r\u0026#34;mgh:ImportMigrationTask\u0026#34;,\r\u0026#34;mgh:AssociateCreatedArtifact\u0026#34;,\r\u0026#34;mgh:NotifyMigrationTaskState\u0026#34;,\r\u0026#34;mgh:DisassociateCreatedArtifact\u0026#34;,\r\u0026#34;mgh:PutResourceAttributes\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: [\r\u0026#34;arn:aws:mgh:*:*:progressUpdateStream/*/migrationTask/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:subnet/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*::network-interface/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:dhcp-options/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*::snapshot/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:security-group/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*::image/*\u0026#34;\r]\r},\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor7\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;ec2:Delete*\u0026#34;,\r\u0026#34;Resource\u0026#34;: [\r\u0026#34;arn:aws:ec2:*:*:route-table/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:dhcp-options/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:instance/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:volume/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:security-group/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:internet-gateway/*\u0026#34;\r],\r\u0026#34;Condition\u0026#34;: {\r\u0026#34;StringLike\u0026#34;: {\r\u0026#34;ec2:ResourceTag/Name\u0026#34;: \u0026#34;CloudEndure*\u0026#34;\r}\r}\r},\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor8\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;ec2:Delete*\u0026#34;,\r\u0026#34;Resource\u0026#34;: [\r\u0026#34;arn:aws:ec2:*:*:route-table/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:dhcp-options/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:instance/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:volume/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:security-group/*\u0026#34;,\r\u0026#34;arn:aws:ec2:*:*:internet-gateway/*\u0026#34;\r],\r\u0026#34;Condition\u0026#34;: {\r\u0026#34;StringLike\u0026#34;: {\r\u0026#34;ec2:ResourceTag/CloudEndure creation time\u0026#34;: \u0026#34;*\u0026#34;\r}\r}\r}\r]\r}\rBước 6: Trên IAM Console, xoá tất cả nội dung đang hiện thị trên trình soạn thảo, sau đó dán đoạn JSON ở bước trước vào.\nBước 7: Chọn Review policy.\nBước 8: Thiết lập các thông tin như sau:\n Name: Đặt tên cho policy (VD: AWS-CloudEndure). Description: Nhập mô tả (VD: Sample AWS-CloudEndure policy).  Bước 9: Chọn Create policy.\nTạo IAM User và Credential cho CloudEndure Bước 1: Ở menu bên trái của IAM Console, chọn Users.\nBước 2: Ở trang Users, chọn Add user.\nBước 3: Ở trang Create User:\n Username: Điền tên user (VD: AWS-CloudEndure). Access type: Chọn Programmatic access.  Bước 4: Chọn Next: Permissions.\nBước 5: Chọn Attach existing policies directly.\nBước 6: Ở ô Search, điền AWS-CloudEndure, sau đó chọn policy AWS-CloudEndure bằng cách nhấn vào ô vuông bên cạnh.\nBước 7: Chọn Next: Tags.\nBước 8: Chọn Next: Review.\nBước 9: Chọn Create User.\nBước 10: Chọn Download .csv. Lưu trữ file tải về ở vị trí an toàn, ta sẽ sử dụng file này ở các bước sau.\nBước 11: Chọn Close.\n"
},
{
	"uri": "/2-config-cloudendure/",
	"title": "Cấu hình CloudEndure",
	"tags": [],
	"description": "",
	"content": "Nội dung\n Tạo dự án và cấu hình AWS Credential trên CloudEndure Console Cấu hình Replication Settings  Tạo dự án và cấu hình AWS Credential trên CloudEndure Console Bước 1: Tạo tài khoản CloudEndure ở đây.\nNếu bạn đã có tài khoản CloudEndure, có thể bỏ qua bước này.\n\rBước 2: Đăng nhập vào CloudEndure Console.\nBước 3: Từ CloudEndure Console, nhấn nút Create new project (biểu tượng dấu cộng) ở góc trên bên trái.\nBước 4: Ở ô Project name, đặt tên cho dự án là Migrate ShareNote. Sau đó chọn CREATE PROJECT.\nBước 5: Ở cửa sổ pop-up Project Not Set Up! hiện lên, chọn CONTINUE.\nNếu không có cửa sổ pop-up nào hiện lên, đảm bảo rằng dự án đang chọn là Migrate ShareNote (góc trên bên trái). Sau đó từ menu bên trái, chọn Setup \u0026amp; Info.\n\rBước 6: Chọn Tab AWS CREDENTIALS.\nBước 7: Điền AWS Access Key ID và AWS Secret Access Key từ file CSV tải xuống ở Phần 1: Tạo AWS Credential cho CloudEndure.\nBước 8: Chọn SAVE.\nCấu hình Replication Settings Bước 1: Sau khi hoàn thành việc cấu hình AWS Credential, CloudEndure Console sẽ tự động chuyển sang Tab REPLICATION SETTINGS.\nBạn cũng có thể truy cập vào Tab REPLICATION SETTINGS bằng cách chọn Setup \u0026amp; Info từ menu bên trái, sau đó chọn Tab REPLICATION SETTINGS.\n\rBước 2: Ở ô Migration Source, chọn Other Infrastructure.\nBước 3: Ở ô Migration Target, chọn AWS Asia Pacific (Tokyo).\nBước 4: Ở ô Choose the Replication Server instance type:, chọn t3.medium.\nBước 5: Ở ô Choose the Converter instance type, chọn t3.medium.\nBước 6: Chọn SAVE REPLICATION SETTINGS.\nBước 7: Ở cửa sổ pop-up Project setup complete, chọn SHOW ME HOW để chuyển đến trang How To Add Machines (Hướng dẫn cài đặt CloudEndure Agent) trên máy nguồn.\n"
},
{
	"uri": "/7-specific-issues/2-exclude-disk/",
	"title": "Select Replication Disk",
	"tags": [],
	"description": "",
	"content": "Contents:\n Trường hợp gặp phải Hướng xử lý  Trường hợp gặp phải  Hệ điều hành: Windows Lỗi xảy ra:  Sử dụng option \u0026ndash;drives=\u0026ndash;force-volumes \u0026ndash;no-prompt khi cài đặt CloudEndure Agent (VD: với = c:,e:,f:,h:). Cài đặt Agent thành công nhưng quá trình replication dừng tại bước \u0026ldquo;Failed to create staging disks\u0026rdquo;.    Hướng xử lý Trong trường hợp sử dụng tham số truyền vào gặp phải lỗi trên, chúng ta hãy thực hiện từng bước theo yêu cầu của CloudEndure Agent để có thể lựa chọn ổ đĩa sử dụng cho quá trình replication.\nCâu lệnh truyền tham số là danh sách các ổ đĩa được sử dụng cho quá trình replication:\ninstaller_win.exe -t EE38-668E-4BAE-3CEA-306E-2D43-F13C-1586-7F19-2221-E873-6FE0-3C48-8145-F149-907A --drives=C:,E:,F:,H: --force-volumes --no-prompt\rChúng ta sẽ loại bỏ các tham số truyền vào và thực hiện từng bước theo yêu cầu của Agent:\ninstaller_win.exe -t EE38-668E-4BAE-3CEA-306E-2D43-F13C-1586-7F19-2221-E873-6FE0-3C48-8145-F149-907A\rSau khi cài đặt xong, hãy thử vào CloudEndure console để kiểm tra kết quả thực hiện. "
},
{
	"uri": "/3-install-agent/",
	"title": "Cài đặt Agents",
	"tags": [],
	"description": "",
	"content": "Nội dung\n Thiết lập tường lửa của Máy chủ Cài đặt Agents lên máy nguồn  Thiết lập tường lửa của Máy chủ Trước khi thực hiện việc cài đặt Agent, hãy tham khảo thêm Các yêu cầu kết nối mạng của CloudEndure\n\rĐể đảm bảo rằng Máy chủ nguồn có thể tương tác với CloudEndure Service Manager cũng như Máy chủ đích, bạn nên kiểm tra các thiết lập Tường lửa trên Máy chủ nguồn trước khi thực hiện migrate.\nĐối với máy chủ Ubuntu, chúng ta cần mở các cổng 443 và 1500 và cho phép các luồng dữ liệu từ 2 địa chỉ IP console của CloudEndure dùng cho việc giao tiếp. Bạn có thể chạy lệnh sau:\nsudo ufw allow 1500\rsudo ufw allow https\rsudo ufw allow from 52.72.172.158/32\rsudo ufw allow from 52.53.92.136/32\rNgoài ra, hãy thử truy cập đến dịch vụ S3 trên AWS để chắc chắn có thể tải được ứng dụng của CloudEndure phục vụ cho quá trình migrate. Bạn có thể thử trên trình duyệt hoặc sử dụng lệnh sau trên Terminal (Linux):\nwget s3.amazonaws.com\rwget s3.us-west-1.amazonaws.com\rwget s3.eu-west-1.amazonaws.com\rCài đặt Agents lên máy nguồn Bước 1: Sau khi hoàn thành việc cấu hình Replication Settings, CloudEndure Console sẽ tự động chuyển sang trang hướng dẫn cài đặt CloudEndure Agent lên máy nguồn.\nBạn cũng có thể truy cập vào trang này bằng cách chọn Machines từ menu bên trái.\n\rBước 2: Kết nối vào máy nguồn bằng SSH (Linux) hoặc Remote Desktop (Windows).\nBước 3: Cài đặt CloudEndure Agent trên máy nguồn bằng hướng dẫn ở Bước 1. Thực hiện đúng hướng dẫn theo hệ điều hành của máy nguồn (Linux hoặc Windows).\nTrong trường hợp bạn không thể chạy lệnh cài đặt Agent, hãy kiểm tra lại và chắc chắn bạn đã cài đặt python trong hệ điều hành.\n\rBước 4: Sau khi hoàn thành cài đặt CloudEndure Agent, từ CloudEndure Console, chọn tab Machine, máy nguồn sẽ được hiển thị ở đây kèm với quá trình dịch chuyển dữ liệu.\n"
},
{
	"uri": "/4-blueprint/",
	"title": "Cấu hình Blueprint",
	"tags": [],
	"description": "",
	"content": "Nội dung\n Cấu hình Blueprint cho máy mục tiêu  Cấu hình Blueprint cho máy mục tiêu Blueprint là đặc tả cho máy mục tiêu trên môi trường AWS, bao gồm loại máy (VD: t3.medium), subnet, private ip, loại ổ đĩa EBS.\nCó thể thực hiện Blueprint trong lúc đợi CloudEndure dịch chuyển dữ liệu từ máy nguồn.\n\rBước 1: Từ Tab Machines của CloudEndure Console, bấm vào tên của máy nguồn để truy cập thông tin máy.\nKhông chọn vào ô vuông bên cạnh máy nguồn.\n\rBước 2: Ở Tab BLUEPRINT, ô Machine Type, chọn t3.medium.\nBước 3: Chọn SAVE BLUEPRINT.\nBước 4: Nếu có cửa sổ pop-up Security Warning hiện lên, chọn OK.\n"
},
{
	"uri": "/5-cutover/",
	"title": "Thực hiện Cutover",
	"tags": [],
	"description": "",
	"content": "Nội dung\n Thực hiện Cutover  Thực hiện Cutover Cần đợi CloudEndure hoàn thành việc dịch chuyển dữ liệu trước khi thực hiện Cutover, việc này có thể mấy vài phút. Khi hoàn thành việc dịch chuyển dữ liệu, trạng thái của máy nguồn sẽ chuyển thành Continous Data Replication.\n\rBước 1: Từ Tab Machines của CloudEndure Console, nhấn vào ô vuông bên cạnh để chọn máy nguồn.\nBước 2: Chọn LAUNCH 1 TARGET MACHINE.\nBước 3: Chọn Cutover Mode.\nBước 4: Ở cửa sổ pop-up hiện lên, chọn CONTINUE.\nCloudEndure sẽ thực hiện đồng bộ dữ liệu lần cuối cùng, sau đó thực hiện việc tạo máy ảo trên môi trường AWS.\n\rBước 5: Để theo dõi quá trình Cutover, chọn Job Progress từ menu bên trái của CloudEndure Console.\nĐợi đến khi quá trình Cutover kết thúc trước khi chuyển sang bước tiếp theo.\n"
},
{
	"uri": "/6-security-group/",
	"title": "Cấu hình Security Group",
	"tags": [],
	"description": "",
	"content": "Nội dung\n Cấu hình Security Group để truy cập ứng dụng ShareNote trên máy mục tiêu  Cấu hình Security Group để truy cập ứng dụng ShareNote trên máy mục tiêu Bước 1: Từ AWS Console, chọn dịch vụ EC2.\nBước 2: Ở Menu bên trái, chọn Instances.\nBước 3: Chọn máy ảo trùng tên với máy nguồn trên CloudEndure Console. Ghi chú lại Public DNS của máy ảo này trong tab Networking.\nBước 4: Chọn Tab Security, phần Security Groups, nhấn vào Security Group ID được tạo tự động cho máy ảo này.\nBước 5: Ở Tab Inbound Rules, chọn Edit inbound rules.\nBước 6: Chọn Add rule, nhập các thông tin như sau: - Type: chọn Custom TCP. - Outgoing Port Range: Điền 8080. - Source: chọn Anywhere.\nBước 7: Chọn Save rules.\nBước 8: Dùng trình duyệt để truy cập ứng dụng ShareNote theo địa chỉ http://\u0026lt;public-dns\u0026gt;:8080\nThay \u0026lt;public-dns\u0026gt; bằng Public DNS của máy ảo được ghi chú lại ở Bước 3.\n\rBước 9 (Không bắt buộc): Bạn có thể thử sử dụng Elastic Load Balancer để thực hiện việc điều hướng truy cập người dùng tới Application của bạn thay vì truy cập trực tiếp vào Application Server. Bạn cũng sẽ nhận được kết quả tương tự khi truy cập vào DNS name của Elastic Load Balancer.\n"
},
{
	"uri": "/7-specific-issues/",
	"title": "Common Issues",
	"tags": [],
	"description": "",
	"content": "Phần này sẽ đề cập đến một số lỗi thường gặp trong quá trình thực hiện Migration hoặc tạo Disaster Recovery site sử dụng CloudEndure. In this part, I will introduce some common issues happen during the Migration and replication to Disaster Recovery site with CloudEndure.\nContents:\n CloudEndure Agent not running Select Replication Disks not working  "
},
{
	"uri": "/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]